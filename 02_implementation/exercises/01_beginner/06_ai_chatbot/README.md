# ğŸ¤– æ¼”ç¿’6: AIãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆ
**é›£æ˜“åº¦**: â­ åˆç´šï¼ˆAIçµ±åˆï¼‰  
**æ¨å®šæ™‚é–“**: 6-8æ™‚é–“  
**AI Engineer #9 + AI Education Assistant #8 æ‹…å½“**

---

## ğŸ¯ å­¦ç¿’ç›®æ¨™

ã“ã®æ¼”ç¿’ã‚’é€šã˜ã¦ä»¥ä¸‹ã®AIçµ±åˆã‚¹ã‚­ãƒ«ã‚’ç¿’å¾—ã—ã¾ã™ï¼š

- OpenAI APIï¼ˆGPT-4ï¼‰ã®åŸºæœ¬çš„ãªä½¿ç”¨æ–¹æ³•
- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ã®åŸºç¤
- AI APIã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹å‡¦ç†ã¨ ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- ä¼šè©±å±¥æ­´ã®ç®¡ç†ã¨ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆä¿æŒ
- ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å®Ÿè£…
- ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã¨ã‚³ã‚¹ãƒˆç®¡ç†

---

## ğŸ“‹ è¦ä»¶å®šç¾©

### æ©Ÿèƒ½è¦ä»¶

#### å¿…é ˆæ©Ÿèƒ½
1. **åŸºæœ¬ãƒãƒ£ãƒƒãƒˆæ©Ÿèƒ½**
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®é€ä¿¡
   - AIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®è¡¨ç¤º
   - ä¼šè©±å±¥æ­´ã®è¡¨ç¤º

2. **AIçµ±åˆ**
   - OpenAI GPT-4 APIé€£æº
   - ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ©Ÿèƒ½
   - ã‚·ã‚¹ãƒ†ãƒ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®è¨­å®š

3. **ä¼šè©±ç®¡ç†**
   - æ–°ã—ã„ä¼šè©±ã®é–‹å§‹
   - ä¼šè©±å±¥æ­´ã®ä¿å­˜ãƒ»èª­ã¿è¾¼ã¿
   - ä¼šè©±ã®ã‚¯ãƒªã‚¢æ©Ÿèƒ½

#### æ¨å¥¨æ©Ÿèƒ½
4. **é«˜åº¦ãªAIæ©Ÿèƒ½**
   - ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ãƒ¬ã‚¹ãƒãƒ³ã‚¹
   - ä¼šè©±ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç®¡ç†
   - AIäººæ ¼è¨­å®šï¼ˆã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã€å…ˆç”Ÿã€å‹é”ãªã©ï¼‰

5. **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ã‚¯ã‚¹ãƒšãƒªã‚¨ãƒ³ã‚¹**
   - ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼
   - ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ç·¨é›†ãƒ»å‰Šé™¤
   - ãŠæ°—ã«å…¥ã‚Šä¼šè©±ã®ä¿å­˜

6. **é–‹ç™ºè€…å‘ã‘æ©Ÿèƒ½**
   - ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ‡ãƒãƒƒã‚°æ©Ÿèƒ½
   - APIä½¿ç”¨é‡ã®è¡¨ç¤º
   - ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“ã®è¨ˆæ¸¬

### éæ©Ÿèƒ½è¦ä»¶

- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**: APIã‚­ãƒ¼ã®é©åˆ‡ãªç®¡ç†
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“3ç§’ä»¥å†…
- **å¯ç”¨æ€§**: ã‚¨ãƒ©ãƒ¼æ™‚ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿèƒ½
- **è²»ç”¨åŠ¹ç‡**: ãƒˆãƒ¼ã‚¯ãƒ³ä½¿ç”¨é‡ã®æœ€é©åŒ–

---

## ğŸ—ï¸ ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ

### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³

```mermaid
graph TD
    A[ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰<br/>React] --> B[ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰API<br/>Node.js/Express]
    B --> C[OpenAI API<br/>GPT-4]
    B --> D[ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹<br/>SQLite/MongoDB]
    B --> E[ã‚­ãƒ£ãƒƒã‚·ãƒ¥<br/>Redis]
    
    F[ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç®¡ç†] --> B
    G[ä¼šè©±å±¥æ­´] --> D
    H[ä½¿ç”¨é‡ç›£è¦–] --> B
```

### ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«

```typescript
interface Message {
  id: string;
  role: 'user' | 'assistant' | 'system';
  content: string;
  timestamp: Date;
  tokens?: number;
}

interface Conversation {
  id: string;
  title: string;
  messages: Message[];
  createdAt: Date;
  updatedAt: Date;
  settings: ConversationSettings;
}

interface ConversationSettings {
  model: string;
  temperature: number;
  maxTokens: number;
  systemPrompt: string;
  personality: string;
}
```

---

## ğŸ—‚ï¸ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
06_ai_chatbot/
â”œâ”€â”€ starter/
â”‚   â”œâ”€â”€ frontend/
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Chat/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ChatInterface.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MessageList.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MessageInput.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ TypingIndicator.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Settings/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AISettings.tsx
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ PromptTemplates.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Layout/
â”‚   â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useChat.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useOpenAI.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ useLocalStorage.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ api.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ openai.ts
â”‚   â”‚   â”‚   â””â”€â”€ utils/
â”‚   â”‚   â”‚       â”œâ”€â”€ prompts.ts
â”‚   â”‚   â”‚       â””â”€â”€ tokenCounter.ts
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â””â”€â”€ .env.example
â”‚   â”œâ”€â”€ backend/
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ chat.js
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ conversations.js
â”‚   â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ openai.js
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ database.js
â”‚   â”‚   â”‚   â”œâ”€â”€ middleware/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ auth.js
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ rateLimit.js
â”‚   â”‚   â”‚   â””â”€â”€ utils/
â”‚   â”‚   â”‚       â”œâ”€â”€ prompts.js
â”‚   â”‚   â”‚       â””â”€â”€ validation.js
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â””â”€â”€ .env.example
â”‚   â””â”€â”€ shared/
â”‚       â”œâ”€â”€ prompts/
â”‚       â”‚   â”œâ”€â”€ assistant.md
â”‚       â”‚   â”œâ”€â”€ teacher.md
â”‚       â”‚   â””â”€â”€ creative.md
â”‚       â””â”€â”€ examples/
â”‚           â””â”€â”€ conversation-samples.json
â”œâ”€â”€ solution/
â”‚   â””â”€â”€ [å®Œæˆç‰ˆãƒ•ã‚¡ã‚¤ãƒ«ç¾¤]
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ integration/
â”‚   â”œâ”€â”€ unit/
â”‚   â””â”€â”€ e2e/
â””â”€â”€ docs/
    â”œâ”€â”€ api-documentation.md
    â”œâ”€â”€ prompt-engineering-guide.md
    â””â”€â”€ deployment-guide.md
```

---

## ğŸš€ å®Ÿè£…æ‰‹é †

### Phase 1: ç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆ1æ™‚é–“ï¼‰

1. **APIã‚­ãƒ¼ã®å–å¾—**
   ```bash
   # OpenAI APIã‚­ãƒ¼ã®è¨­å®š
   # https://platform.openai.com/api-keys
   ```

2. **ç’°å¢ƒå¤‰æ•°ã®è¨­å®š**
   ```env
   # .env
   OPENAI_API_KEY=your_openai_api_key_here
   OPENAI_MODEL=gpt-4o-mini
   OPENAI_MAX_TOKENS=1000
   OPENAI_TEMPERATURE=0.7
   ```

3. **ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**
   ```bash
   # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
   cd backend
   npm install openai express cors dotenv helmet
   
   # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰  
   cd ../frontend
   npm install react-query axios react-markdown
   ```

### Phase 2: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å®Ÿè£…ï¼ˆ2-3æ™‚é–“ï¼‰

4. **OpenAI ã‚µãƒ¼ãƒ“ã‚¹ã®å®Ÿè£…**
   ```javascript
   // backend/src/services/openai.js
   import OpenAI from 'openai';
   
   class OpenAIService {
     constructor() {
       this.client = new OpenAI({
         apiKey: process.env.OPENAI_API_KEY,
       });
     }
   
     async createChatCompletion(messages, options = {}) {
       try {
         const response = await this.client.chat.completions.create({
           model: options.model || 'gpt-4o-mini',
           messages: messages,
           temperature: options.temperature || 0.7,
           max_tokens: options.maxTokens || 1000,
           stream: options.stream || false,
         });
         
         return response;
       } catch (error) {
         console.error('OpenAI API Error:', error);
         throw new Error('AI service is temporarily unavailable');
       }
     }
   
     async createStreamingCompletion(messages, options = {}) {
       const stream = await this.client.chat.completions.create({
         model: options.model || 'gpt-4o-mini',
         messages: messages,
         temperature: options.temperature || 0.7,
         max_tokens: options.maxTokens || 1000,
         stream: true,
       });
   
       return stream;
     }
   
     countTokens(text) {
       // ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã®æ¦‚ç®—ï¼ˆå®Ÿéš›ã¯tiktokenãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ï¼‰
       return Math.ceil(text.length / 4);
     }
   }
   
   export default new OpenAIService();
   ```

5. **ãƒãƒ£ãƒƒãƒˆAPIã®å®Ÿè£…**
   ```javascript
   // backend/src/routes/chat.js
   import express from 'express';
   import openaiService from '../services/openai.js';
   import { validateMessage } from '../utils/validation.js';
   
   const router = express.Router();
   
   router.post('/message', async (req, res) => {
     try {
       const { message, conversationHistory, settings } = req.body;
       
       // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
       if (!validateMessage(message)) {
         return res.status(400).json({ error: 'Invalid message' });
       }
   
       // ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®æ§‹ç¯‰
       const systemPrompt = buildSystemPrompt(settings);
       const messages = [
         { role: 'system', content: systemPrompt },
         ...conversationHistory,
         { role: 'user', content: message }
       ];
   
       // OpenAI APIå‘¼ã³å‡ºã—
       const response = await openaiService.createChatCompletion(
         messages, 
         settings
       );
   
       const aiMessage = response.choices[0].message.content;
       const tokens = response.usage.total_tokens;
   
       res.json({
         message: aiMessage,
         tokens: tokens,
         model: response.model
       });
   
     } catch (error) {
       console.error('Chat error:', error);
       res.status(500).json({ 
         error: 'Failed to generate response',
         fallback: 'I apologize, but I am temporarily unable to process your request. Please try again later.'
       });
     }
   });
   
   router.post('/stream', async (req, res) => {
     try {
       res.writeHead(200, {
         'Content-Type': 'text/event-stream',
         'Cache-Control': 'no-cache',
         'Connection': 'keep-alive',
       });
   
       const { message, conversationHistory, settings } = req.body;
       const systemPrompt = buildSystemPrompt(settings);
       const messages = [
         { role: 'system', content: systemPrompt },
         ...conversationHistory,
         { role: 'user', content: message }
       ];
   
       const stream = await openaiService.createStreamingCompletion(
         messages, 
         settings
       );
   
       for await (const chunk of stream) {
         const content = chunk.choices[0]?.delta?.content || '';
         if (content) {
           res.write(`data: ${JSON.stringify({ content })}\n\n`);
         }
       }
   
       res.write('data: [DONE]\n\n');
       res.end();
   
     } catch (error) {
       console.error('Streaming error:', error);
       res.write(`data: ${JSON.stringify({ error: 'Stream failed' })}\n\n`);
       res.end();
     }
   });
   
   function buildSystemPrompt(settings) {
     const basePrompt = 'You are a helpful AI assistant.';
     const personalityPrompts = {
       assistant: 'You are professional and helpful.',
       teacher: 'You are a patient teacher who explains concepts clearly.',
       creative: 'You are creative and inspire innovative thinking.',
       friend: 'You are a friendly companion who is supportive and understanding.'
     };
   
     return basePrompt + ' ' + (personalityPrompts[settings.personality] || '');
   }
   
   export default router;
   ```

### Phase 3: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å®Ÿè£…ï¼ˆ2-3æ™‚é–“ï¼‰

6. **ã‚«ã‚¹ã‚¿ãƒ hook - useChat**
   ```typescript
   // frontend/src/hooks/useChat.ts
   import { useState, useCallback } from 'react';
   import { useMutation } from 'react-query';
   import { apiClient } from '../services/api';
   
   interface Message {
     id: string;
     role: 'user' | 'assistant';
     content: string;
     timestamp: Date;
     tokens?: number;
   }
   
   interface ChatSettings {
     model: string;
     temperature: number;
     maxTokens: number;
     personality: string;
   }
   
   export const useChat = () => {
     const [messages, setMessages] = useState<Message[]>([]);
     const [settings, setSettings] = useState<ChatSettings>({
       model: 'gpt-4o-mini',
       temperature: 0.7,
       maxTokens: 1000,
       personality: 'assistant'
     });
   
     const sendMessageMutation = useMutation(
       async (content: string) => {
         const userMessage: Message = {
           id: Date.now().toString(),
           role: 'user',
           content,
           timestamp: new Date()
         };
   
         setMessages(prev => [...prev, userMessage]);
   
         const response = await apiClient.post('/chat/message', {
           message: content,
           conversationHistory: messages,
           settings
         });
   
         const assistantMessage: Message = {
           id: (Date.now() + 1).toString(),
           role: 'assistant',
           content: response.data.message,
           timestamp: new Date(),
           tokens: response.data.tokens
         };
   
         setMessages(prev => [...prev, assistantMessage]);
         return assistantMessage;
       },
       {
         onError: (error) => {
           console.error('Failed to send message:', error);
           // ã‚¨ãƒ©ãƒ¼æ™‚ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
           const errorMessage: Message = {
             id: (Date.now() + 1).toString(),
             role: 'assistant',
             content: 'I apologize, but I encountered an error. Please try again.',
             timestamp: new Date()
           };
           setMessages(prev => [...prev, errorMessage]);
         }
       }
     );
   
     const sendMessage = useCallback((content: string) => {
       sendMessageMutation.mutate(content);
     }, [sendMessageMutation]);
   
     const clearConversation = useCallback(() => {
       setMessages([]);
     }, []);
   
     const updateSettings = useCallback((newSettings: Partial<ChatSettings>) => {
       setSettings(prev => ({ ...prev, ...newSettings }));
     }, []);
   
     return {
       messages,
       settings,
       isLoading: sendMessageMutation.isLoading,
       error: sendMessageMutation.error,
       sendMessage,
       clearConversation,
       updateSettings
     };
   };
   ```

7. **ãƒãƒ£ãƒƒãƒˆã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹**
   ```typescript
   // frontend/src/components/Chat/ChatInterface.tsx
   import React, { useState } from 'react';
   import { useChat } from '../../hooks/useChat';
   import MessageList from './MessageList';
   import MessageInput from './MessageInput';
   import TypingIndicator from './TypingIndicator';
   import AISettings from '../Settings/AISettings';
   
   const ChatInterface: React.FC = () => {
     const { 
       messages, 
       settings, 
       isLoading, 
       sendMessage, 
       clearConversation, 
       updateSettings 
     } = useChat();
     
     const [showSettings, setShowSettings] = useState(false);
   
     return (
       <div className="chat-interface">
         <div className="chat-header">
           <h1>AI ãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆ</h1>
           <div className="header-actions">
             <button 
               onClick={() => setShowSettings(!showSettings)}
               className="settings-btn"
             >
               âš™ï¸ è¨­å®š
             </button>
             <button 
               onClick={clearConversation}
               className="clear-btn"
             >
               ğŸ—‘ï¸ ã‚¯ãƒªã‚¢
             </button>
           </div>
         </div>
   
         {showSettings && (
           <AISettings 
             settings={settings}
             onSettingsChange={updateSettings}
           />
         )}
   
         <div className="chat-content">
           <MessageList messages={messages} />
           {isLoading && <TypingIndicator />}
         </div>
   
         <MessageInput 
           onSendMessage={sendMessage}
           disabled={isLoading}
         />
       </div>
     );
   };
   
   export default ChatInterface;
   ```

### Phase 4: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ï¼ˆ1-2æ™‚é–“ï¼‰

8. **ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ**
   ```markdown
   <!-- shared/prompts/teacher.md -->
   # æ•™å¸«AIäººæ ¼è¨­å®š
   
   ã‚ãªãŸã¯çµŒé¨“è±Šå¯Œã§è¦ªåˆ‡ãªæ•™å¸«ã§ã™ã€‚ä»¥ä¸‹ã®ç‰¹å¾´ã‚’æŒã£ã¦ãã ã•ã„ï¼š
   
   ## æ•™è‚²ã‚¹ã‚¿ã‚¤ãƒ«
   - è¤‡é›‘ãªæ¦‚å¿µã‚’ç°¡å˜ãªè¨€è‘‰ã§èª¬æ˜ã™ã‚‹
   - å…·ä½“ä¾‹ã‚„æ¯”å–©ã‚’ä½¿ã£ã¦ç†è§£ã‚’åŠ©ã‘ã‚‹
   - å­¦ç¿’è€…ã®ãƒšãƒ¼ã‚¹ã«åˆã‚ã›ã¦èª¬æ˜ã™ã‚‹
   - é–“é•ã„ã‚’æã‚Œãªã„ç’°å¢ƒã‚’ä½œã‚‹
   
   ## ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³
   - å¸¸ã«åŠ±ã¾ã—ã€ãƒã‚¸ãƒ†ã‚£ãƒ–ãªãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’æä¾›
   - è³ªå•ã‚’æ­“è¿ã—ã€è©³ã—ãç­”ãˆã‚‹
   - å­¦ç¿’è€…ã®æˆé•·ã‚’èªã‚ã€è¤’ã‚ã‚‹
   - é©åˆ‡ãªæ•¬èªã‚’ä½¿ç”¨ã—ã€ä¸å¯§ã«è©±ã™
   
   ## å­¦ç¿’æ”¯æ´
   - æ®µéšçš„ã«å­¦ç¿’ã‚’é€²ã‚ã‚‹
   - å¾©ç¿’ã®é‡è¦æ€§ã‚’å¼·èª¿
   - å®Ÿè·µçš„ãªå¿œç”¨ä¾‹ã‚’æä¾›
   - å­¦ç¿’è€…ã®èˆˆå‘³ã‚’å¼•ãè©±é¡Œã‚’å–ã‚Šå…¥ã‚Œã‚‹
   ```

9. **å‹•çš„ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ**
   ```typescript
   // frontend/src/utils/prompts.ts
   export const promptTemplates = {
     assistant: {
       name: 'ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ',
       description: 'ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ã§åŠ¹ç‡çš„ãªã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ',
       systemPrompt: `
         ã‚ãªãŸã¯å„ªç§€ãªAIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã§ã™ã€‚
         - æ­£ç¢ºã§æœ‰ç”¨ãªæƒ…å ±ã‚’æä¾›ã—ã¦ãã ã•ã„
         - ç°¡æ½”ã§åˆ†ã‹ã‚Šã‚„ã™ã„å›ç­”ã‚’å¿ƒãŒã‘ã¦ãã ã•ã„
         - ä¸æ˜ãªç‚¹ã¯ç´ ç›´ã«èªã‚ã¦ãã ã•ã„
         - å¸¸ã«ä¸å¯§ã§å°‚é–€çš„ãªå¯¾å¿œã‚’è¡Œã£ã¦ãã ã•ã„
       `
     },
     
     teacher: {
       name: 'æ•™å¸«',
       description: 'æ•™è‚²ã«ç‰¹åŒ–ã—ãŸã‚µãƒãƒ¼ãƒˆ',
       systemPrompt: `
         ã‚ãªãŸã¯çµŒé¨“è±Šå¯Œãªæ•™å¸«ã§ã™ã€‚
         - è¤‡é›‘ãªæ¦‚å¿µã‚’åˆ†ã‹ã‚Šã‚„ã™ãèª¬æ˜ã—ã¦ãã ã•ã„
         - å…·ä½“ä¾‹ã‚„æ¯”å–©ã‚’ä½¿ã£ã¦ç†è§£ã‚’åŠ©ã‘ã¦ãã ã•ã„
         - å­¦ç¿’è€…ã‚’åŠ±ã¾ã—ã€æˆé•·ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ãã ã•ã„
         - è³ªå•ã‚’æ­“è¿ã—ã€è©³ã—ãç­”ãˆã¦ãã ã•ã„
       `
     },
     
     creative: {
       name: 'ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–',
       description: 'å‰µé€ çš„æ€è€ƒã‚’ã‚µãƒãƒ¼ãƒˆ',
       systemPrompt: `
         ã‚ãªãŸã¯å‰µé€ æ€§ã«å¯Œã‚“ã AIã§ã™ã€‚
         - ç‹¬å‰µçš„ãªã‚¢ã‚¤ãƒ‡ã‚¢ã‚’ææ¡ˆã—ã¦ãã ã•ã„
         - æ—¢å­˜ã®æ¦‚å¿µã‚’æ–°ã—ã„è¦–ç‚¹ã§æ‰ãˆã¦ãã ã•ã„
         - ãƒ–ãƒ¬ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒŸãƒ³ã‚°ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ãã ã•ã„
         - ã‚¤ãƒ³ã‚¹ãƒ”ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä¸ãˆã‚‹å›ç­”ã‚’å¿ƒãŒã‘ã¦ãã ã•ã„
       `
     }
   };
   
   export const buildSystemPrompt = (
     personality: string, 
     customInstructions?: string
   ): string => {
     const template = promptTemplates[personality] || promptTemplates.assistant;
     let prompt = template.systemPrompt;
     
     if (customInstructions) {
       prompt += `\n\nè¿½åŠ æŒ‡ç¤º: ${customInstructions}`;
     }
     
     return prompt;
   };
   ```

---

## âœ… ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### æ©Ÿèƒ½ãƒã‚§ãƒƒã‚¯
- [ ] OpenAI APIã¨ã®æ­£å¸¸ãªé€šä¿¡
- [ ] ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®é€å—ä¿¡ãŒå‹•ä½œ
- [ ] ä¼šè©±å±¥æ­´ã®è¡¨ç¤ºã¨ç®¡ç†
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®å®Ÿè£…
- [ ] ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã®è€ƒæ…®
- [ ] APIä½¿ç”¨é‡ã®ç›£è¦–

### AIæ©Ÿèƒ½ãƒã‚§ãƒƒã‚¯
- [ ] ç•°ãªã‚‹äººæ ¼è¨­å®šã§ã®å‹•ä½œç¢ºèª
- [ ] ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®é©ç”¨
- [ ] ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼ˆæ¨å¥¨æ©Ÿèƒ½ï¼‰
- [ ] ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã®è¨ˆç®—ã¨è¡¨ç¤º
- [ ] ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç®¡ç†

### å“è³ªãƒã‚§ãƒƒã‚¯
- [ ] ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“ã®æœ€é©åŒ–
- [ ] ã‚¨ãƒ©ãƒ¼æ™‚ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–ï¼ˆAPIã‚­ãƒ¼ä¿è­·ï¼‰
- [ ] ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ã®ç¢ºèª

---

## ğŸ“ å­¦ç¿’ãƒã‚¤ãƒ³ãƒˆ

### ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°
```typescript
// åŠ¹æœçš„ãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­è¨ˆä¾‹
const createContextAwarePrompt = (userQuery: string, context: string[]) => {
  return `
    Context: ${context.join('\n')}
    
    User Query: ${userQuery}
    
    Instructions:
    1. ä¸Šè¨˜ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’è€ƒæ…®ã—ã¦å›ç­”ã—ã¦ãã ã•ã„
    2. å…·ä½“çš„ã§å®Ÿç”¨çš„ãªæƒ…å ±ã‚’æä¾›ã—ã¦ãã ã•ã„
    3. ä¸ç¢ºå®Ÿãªæƒ…å ±ã¯æ˜ç¢ºã«ç¤ºã—ã¦ãã ã•ã„
    
    Response:
  `;
};
```

### ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æˆ¦ç•¥
```typescript
const handleAIError = (error: any): string => {
  if (error.code === 'rate_limit_exceeded') {
    return 'APIåˆ©ç”¨åˆ¶é™ã«é”ã—ã¾ã—ãŸã€‚ã—ã°ã‚‰ãå¾…ã£ã¦ã‹ã‚‰å†è©¦è¡Œã—ã¦ãã ã•ã„ã€‚';
  } else if (error.code === 'insufficient_quota') {
    return 'APIåˆ©ç”¨æ ã‚’è¶…éã—ã¾ã—ãŸã€‚ç®¡ç†è€…ã«ãŠå•ã„åˆã‚ã›ãã ã•ã„ã€‚';
  } else {
    return 'AI ã‚µãƒ¼ãƒ“ã‚¹ã§å•é¡ŒãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚å¾Œã§ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚';
  }
};
```

### ã‚³ã‚¹ãƒˆæœ€é©åŒ–
```typescript
const optimizeTokenUsage = (messages: Message[]): Message[] => {
  // å¤ã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¦ç´„ã—ã¦æ–‡è„ˆã‚’ä¿æŒã—ã¤ã¤ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã‚’å‰Šæ¸›
  if (messages.length > 20) {
    const recentMessages = messages.slice(-10);
    const olderMessages = messages.slice(0, -10);
    const summary = summarizeConversation(olderMessages);
    
    return [
      { role: 'system', content: `Previous conversation summary: ${summary}` },
      ...recentMessages
    ];
  }
  return messages;
};
```

---

## ğŸ“š å‚è€ƒãƒªã‚½ãƒ¼ã‚¹

### AIãƒ»æ©Ÿæ¢°å­¦ç¿’
- [OpenAI API Documentation](https://platform.openai.com/docs)
- [Prompt Engineering Guide](https://www.promptingguide.ai/)
- [LangChain Documentation](https://docs.langchain.com/)

### å®Ÿè£…æŠ€è¡“
- [React Query Documentation](https://tanstack.com/query/latest)
- [Server-Sent Events MDN](https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events)

---

## ğŸ‰ å®Œäº†å¾Œã®Next Step

1. **[AIç”»åƒç”Ÿæˆãƒ„ãƒ¼ãƒ«](../07_ai_image_generator/)** ã§DALL-E APIã‚’å­¦ç¿’
2. **[AIæ–‡æ›¸è¦ç´„ã‚·ã‚¹ãƒ†ãƒ ](../../02_intermediate/06_ai_document_summarizer/)** ã§ä¸­ç´šAIçµ±åˆ
3. **[AIé–‹ç™ºã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ](../../03_advanced/05_ai_dev_assistant/)** ã§GitHub Copilotçµ±åˆ

---

**ğŸ¤– AI Engineer + AI Education Assistant ã«ã‚ˆã‚‹ä½œæˆ**: 2025-10-22  
**ğŸ“ˆ é›£æ˜“åº¦**: â­ åˆç´šï¼ˆAIçµ±åˆï¼‰ | **â±ï¸ æ¨å®šæ™‚é–“**: 6-8æ™‚é–“